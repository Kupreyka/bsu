{"version":3,"sources":["Components/Home/Home.module.css","Components/Message/Message.module.css","Components/Footer/Footer.module.css","Components/Login/Login.module.css","Components/Home/Post/Post.module.css","Components/Footer/Footer.jsx","Components/Sidebar-menu/Menu.jsx","Components/Feed/Feed.jsx","redux/Dialogs-page-reducer.js","Components/common/FormsControls.js","utilities/validator.js","Components/Message/Message.jsx","hoc/withAuthRedirect.js","Components/Message/MessgeContainer.jsx","API/Api.js","utilities/object-helpers.js","redux/Friends-page-reducer.js","assets/default-photo.png","Components/Friends/Friends.jsx","assets/preloader.svg","Components/Friends/Preloader/Preloader.jsx","redux/users-selectors.js","Components/Friends/FriendsContainer.jsx","redux/Profile-page-reducer.js","Components/Home/Post/Post.jsx","Components/Home/Posts/Posts.jsx","Components/Home/Posts/PostsContainrt.jsx","Components/Home/Posts/StatusHooks.js","Components/Home/HomeInfo/ProfileDataForm.jsx","Components/Home/HomeInfo/HomeInfo.jsx","Components/Home/Home.js","Components/Home/HomeContainer.jsx","Components/Header/images/logo.png","Components/Header/Header.jsx","redux/Auth-reducer.js","Components/Header/HeaderContainer.jsx","Components/Login/Login.jsx","redux/App-reducer.js","App.js","reportWebVitals.js","redux/redux-store.js","index.js","Components/Sidebar-menu/Menu.module.css","Components/Header/Header.module.css","Components/Home/HomeInfo/HomeInfo.module.css","Components/common/FormsControls.module.css","Components/Friends/css/friendPage.module.css"],"names":["module","exports","Footer","className","style","footer","info","Date","getFullYear","Menu","menu","to","activeClassName","active","Feed","Helmet","ADD_MESSAGE","initialState","MessageData","message","nameData","id","name","DialogsPageReducer","state","action","type","stateCopy","push","Message","Textarea","input","meta","props","hasError","touched","error","s","formsControls","Input","Alert","variant","severity","CheckboxCustom","Checkbox","inputProps","required","value","maxLengthCreator","maxLength","length","Name","Messages","MaxLength","AddReduxMessageForm","reduxForm","form","onSubmit","handleSubmit","Field","component","validate","placeholder","cols","rows","MessageElement","map","el","nameElement","dialogs","values","AddMessage","mapStateToPropsRedirect","isAuth","Auth","WithAuthRedirect","Component","RedirectComponent","this","React","connect","compose","DialogsPage","dispatch","AddMessageActionCreator","instance","axios","create","withCredentials","headers","baseURL","UsersAPI","activePageUser","pageUser","get","then","response","data","post","delete","UserId","ProfileApi","userId","status","put","photoFile","formData","FormData","append","profile","AuthAPI","email","password","rememberMe","captcha","SecurityAPI","updateObjectInArray","items","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","ACTIVE_PAGE_USER","SET_TOTAL_COUNT_USERS","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalCountUsers","isFetching","followingInProgress","setUsers","toggleIsFetching","toggleFollowingProgress","FriendsReducer","followed","filter","Friends","portionSize","pageCount","Math","ceil","pages","i","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","p","activePageSucces","onPageChange","default","user","src","photos","small","defPhoto","Button","btn","disabled","some","unfollow","follow","Preloader","preloader","getUsers","createSelector","FriendsPage","getTotalCountUsers","getPageUser","getActivePageUser","getIsFetching","getFollowingInProgress","FriendsContainer","activePage","resultCode","totalUsers","totalCount","setActivePageUser","ADD_POST","SET_PROFILE_PAGE","SET_PROFILE_STATUS","SAVE_PHOTO","messageData","setProfileStatus","getUserId","setProfile","ProfilePageReducer","NewPost","Post","NewReduxPostForm","Posts","messageElement","AddPost","PostsContainer","ProfilePage","AddPostActionCreator","StatusHooks","editMode","setEditMode","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateProfileStatus","ProfileDataFormRedux","Object","keys","contacts","key","endIcon","Contact","contactTitle","contactValue","contact","href","ProfileData","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","isOwner","goToEditMode","HomeInfo","large","mainPhoto","htmlFor","accept","multiple","target","files","savePhoto","saveProfile","initialValues","Home","home","HomeContainer","match","params","loginId","getStatus","checkUpdate","prevProps","prevState","snapshot","file","getState","stopSubmit","_error","messages","withRouter","StyledBadge","styled","Badge","theme","backgroundColor","color","boxShadow","palette","background","paper","position","top","left","width","height","borderRadius","animation","border","content","transform","opacity","Header","Avatar","header","headerLink","fill","xmlns","d","customHeader","Stack","direction","spacing","overlap","anchorOrigin","vertical","horizontal","alt","registration","headerCustomItem","login","logout","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","setUserData","getCaptchaUrl","url","getCaptchaSuccess","AuthReducer","HeaderContainer","LoginReduxForm","customBtn","INITIALIZED_SUCCESS","initialized","AppReducer","App","initializeApp","path","render","app","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Reducers","combineReducers","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","Rerender","ReactDOM","StrictMode","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.b0559d3a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Home_post__2IhnQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Message_dialogs__32i0U\",\"name\":\"Message_name__1Mrtl\",\"message\":\"Message_message__21ZgR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__kIIm_\",\"info\":\"Footer_info__1012H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Login_login__3a55o\",\"customBtn\":\"Login_customBtn__14D4K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2FFxG\"};","import style from './Footer.module.css'\r\n\r\nconst Footer = () => {\r\n    return(\r\n        <div className={style.footer}>\r\n            <div className={style.info}><span>Kupreychik Kirill</span> {new Date().getFullYear()}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Footer;","import style from './Menu.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Menu = () => {\r\n    return(\r\n        <div className={style.menu}>\r\n            <NavLink to='/home' activeClassName={style.active}>Home</NavLink>\r\n            <NavLink to=\"/message\" activeClassName={style.active}>Message</NavLink>\r\n            <NavLink to=\"/feed\" activeClassName={style.active}>Feed</NavLink>\r\n            <NavLink to=\"/friends\" activeClassName={style.active}>Friends</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Menu;","import {Helmet} from \"react-helmet\";\r\nimport React from \"react\";\r\n\r\nconst Feed = () => {\r\n    return(\r\n        <>\r\n            <Helmet>\r\n                <title>Новости</title>\r\n            </Helmet>\r\n            <div>Feed</div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Feed","const ADD_MESSAGE = 'dialogs/ADD-MESSAGE';\r\n\r\nlet initialState = {\r\n    MessageData: [\r\n        {message: ''},\r\n    ],\r\n    nameData: [\r\n        {id: 1, name: 'Kirill'}\r\n    ]\r\n}\r\n\r\nconst DialogsPageReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case  ADD_MESSAGE : {\r\n            let stateCopy = {...state}\r\n            stateCopy.MessageData = [...state.MessageData]\r\n            stateCopy.MessageData.push(\r\n                {message: action.Message}\r\n            );\r\n            return stateCopy\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const AddMessageActionCreator = (Message) => {\r\n    return {type: ADD_MESSAGE, Message}\r\n}\r\n\r\nexport default DialogsPageReducer","import React from \"react\";\r\nimport s from './FormsControls.module.css'\r\nimport {Checkbox} from \"@material-ui/core\";\r\nimport {Alert} from \"@mui/material\";\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n\r\n    let hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formsControls + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                <textarea {...props} {...input}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n\r\n    let hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formsControls + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                <input {...props} {...input}/>\r\n            </div>\r\n            {hasError && <Alert variant=\"filled\" severity=\"error\">\r\n                {meta.error}\r\n            </Alert>}\r\n            {/*{hasError && <span>{meta.error}</span> }*/}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const CheckboxCustom = ({input, meta, ...props}) => {\r\n    const label = { inputProps: { 'aria-label': 'Checkbox demo' } };\r\n    return (\r\n        <Checkbox {...label} {...props} {...input} />\r\n    )\r\n}\r\n","export const required = value => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if (value && value.length > maxLength) {\r\n        return `Max length is ${maxLength} symbols`;\r\n    }\r\n    return undefined\r\n}","import style from './Message.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utilities/validator\";\r\nimport {Helmet} from \"react-helmet\";\r\n\r\nconst Name = (props) => {\r\n    return (\r\n        <NavLink to={'/message/' + props.id}>{props.name}</NavLink>\r\n    )\r\n}\r\n\r\nconst Messages = (props) => {\r\n    return (\r\n        <div>{props.message}</div>\r\n    )\r\n}\r\n\r\nconst Message = (props) => {\r\n\r\n    let MessageElement = props.state.MessageData.map(el => <Messages message={el.message}/>)\r\n\r\n    let nameElement = props.state.nameData.map(el => <Name id={el.id} name={el.name}/>);\r\n\r\n    let onMessageSubmit = (values) => {\r\n        props.AddMessage(values.Message);\r\n    }\r\n\r\n    return (\r\n        <div className={style.dialogs}>\r\n            <Helmet>\r\n                <title>Мессенджер</title>\r\n            </Helmet>\r\n            <div className={style.name}>\r\n                {nameElement}\r\n            </div>\r\n            <div className={style.message}>\r\n                {MessageElement}\r\n                <AddReduxMessageForm onSubmit={onMessageSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet MaxLength = maxLengthCreator(10)\r\n\r\nlet AddMessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} validate={[required, MaxLength ]} name={'Message'} placeholder={'Введите сообщение'} cols={'50'} rows={'10'}/>\r\n            <button>Отправить</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddReduxMessageForm = reduxForm({\r\n    form: 'AddMessage'\r\n})(AddMessageForm)\r\n\r\nexport default Message","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.Auth.isAuth\r\n})\r\n\r\nexport const WithAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to={'/login'}/>\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent\r\n\r\n}","import React from \"react\";\r\nimport {AddMessageActionCreator, AddNewMessageTextActionCreator} from \"../../redux/Dialogs-page-reducer\";\r\nimport Message from \"./Message\";\r\nimport {connect} from \"react-redux\";\r\nimport {WithAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        state: state.DialogsPage\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        AddMessage: (Message) => {dispatch(AddMessageActionCreator(Message))}\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    WithAuthRedirect\r\n)(Message)\r\n\r\n","import axios from \"axios\";\r\n\r\n\r\nlet instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '53f4be4b-8bc9-4c00-b66d-671af61de6ae'\r\n    },\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0'\r\n})\r\n\r\nexport const UsersAPI = {\r\n    getUser(activePageUser, pageUser) {\r\n        return instance.get(`users?page=${activePageUser}&count=${pageUser}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    unfollow(id) {\r\n        return instance.delete(`follow/${id}`).then(response => {\r\n            return response.data\r\n        })\r\n    },\r\n    getUserId(UserId) {\r\n        return instance.get('profile/' + UserId)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    }\r\n}\r\n\r\nexport const ProfileApi = {\r\n    getStatus(userId) {\r\n        return instance.get('/profile/status/' + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put('/profile/status', {status: status})\r\n    },\r\n    savePhoto(photoFile) {\r\n        let formData = new FormData();\r\n        formData.append('image', photoFile)\r\n        return instance.put('/profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfileInfo(profile) {\r\n        return instance.put('/profile', profile)\r\n    }\r\n\r\n}\r\n\r\nexport const AuthAPI = {\r\n    auth() {\r\n        return instance.get('auth/me')\r\n    },\r\n    login(email, password, rememberMe, captcha = null) {\r\n        return instance.post('/auth/login', {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete('/auth/login')\r\n    }\r\n}\r\nexport const SecurityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get('/security/get-captcha-url')\r\n    }\r\n}\r\n\r\n\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {UsersAPI} from \"../API/Api\";\r\nimport {updateObjectInArray} from \"../utilities/object-helpers\";\r\n\r\nconst FOLLOW = 'friends/FOLLOW';\r\nconst UNFOLLOW = 'friends/UNFOLLOW';\r\nconst SET_USERS = 'friends/SET_USERS';\r\nconst ACTIVE_PAGE_USER = 'friends/ACTIVE_PAGE_USER';\r\nconst SET_TOTAL_COUNT_USERS = 'friends/SET_TOTAL_COUNT_USERS';\r\nconst TOGGLE_IS_FETCHING = 'friends/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'friends/TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n    users: [],\r\n    totalCountUsers: 0,\r\n    pageUser: 5,\r\n    activePageUser: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\n\r\nconst FriendsReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true} )\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false} )\r\n            }\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case ACTIVE_PAGE_USER:\r\n            return {\r\n                ...state,\r\n                activePageUser: action.activePageUser\r\n            }\r\n        case SET_TOTAL_COUNT_USERS:\r\n            return {\r\n                ...state,\r\n                totalCountUsers: action.totalCountUsers\r\n            }\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nconst followSucces = (userId) => ({type: FOLLOW, userId});\r\nconst unfollowSucces = (userId) => ({type: UNFOLLOW, userId});\r\nconst setUsers = (users) => ({type: SET_USERS, users});\r\nconst setActivePageUser = (activePageUser) => ({type: ACTIVE_PAGE_USER, activePageUser});\r\nconst setTotalUsersCount = (totalCountUsers) => ({type: SET_TOTAL_COUNT_USERS, totalCountUsers});\r\nconst toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n})\r\n\r\n\r\nexport const requestUsers = (activePageUser, pageUser) => {\r\n    return (dispatch) => {\r\n\r\n        dispatch(toggleIsFetching(true))\r\n        UsersAPI.getUser(activePageUser, pageUser)\r\n            .then(response => {\r\n                const users = response.items;\r\n                dispatch(setUsers(users));\r\n                const totalUsers = response.totalCount;\r\n                dispatch(setTotalUsersCount(totalUsers))\r\n                dispatch(toggleIsFetching(false))\r\n\r\n            })\r\n    }\r\n}\r\n\r\nexport const activePage = (activePageSucces, activePageUser, pageUser) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        dispatch(setActivePageUser(activePageSucces));\r\n        UsersAPI.getUser(activePageUser, pageUser)\r\n            .then(response => {\r\n                const users = response.items;\r\n                dispatch(setUsers(users));\r\n                dispatch(toggleIsFetching(false))\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport const follow = (id) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, id))\r\n        UsersAPI.follow(id)\r\n            .then(response => {\r\n                if (response.resultCode == 0) {\r\n                    dispatch(followSucces(id))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, id))\r\n            })\r\n    }\r\n}\r\nexport const unfollow = (id) => {\r\n    return (dispatch) => {\r\n        dispatch(toggleFollowingProgress(true, id))\r\n        UsersAPI.unfollow(id)\r\n            .then(response => {\r\n                if (response.resultCode == 0) {\r\n                    dispatch(unfollowSucces(id))\r\n                }\r\n                dispatch(toggleFollowingProgress(false, id))\r\n            })\r\n    }\r\n}\r\n//refactoring\r\n\r\nexport default FriendsReducer;","export default __webpack_public_path__ + \"static/media/default-photo.7cae1f1e.png\";","import React, {useState} from \"react\";\r\nimport defPhoto from \"../../assets/default-photo.png\";\r\nimport style from './css/friendPage.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nconst Friends = (props, {portionSize = 10}) => {\r\n\r\n    let pageCount = Math.ceil(props.totalCountUsers / props.pageUser)\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pageCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>PREV</button>}\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(activePageSucces => {\r\n                    return <span onClick={() => {\r\n                        props.onPageChange(activePageSucces)\r\n                    }}\r\n                                 className={`${style.default} ${props.activePageUser === activePageSucces && style.active}`}>{activePageSucces}</span>\r\n                })}\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => {\r\n                setPortionNumber(portionNumber + 1)\r\n            }}>NEXT</button>}\r\n            {props.users.map(user => <div key={user.id}>\r\n                <div>\r\n                    <NavLink to={/home/ + user.id}>\r\n                        <img\r\n                            src={user.photos.small != null ? user.photos.small : defPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <Button className={style.btn} disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            props.unfollow(user.id)\r\n                        }}>Unfollow</Button>\r\n                        : <Button className={style.btn} disabled={props.followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                            props.follow(user.id)\r\n                        }}>follow</Button>\r\n                    }\r\n                </div>\r\n\r\n                <div>\r\n                    {user.name}\r\n                </div>\r\n                {/*<div>{user.status}</div>\r\n                <div>{user.location.city}</div>\r\n                <div>{user.location.country}</div>*/}\r\n            </div>)}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friends","export default __webpack_public_path__ + \"static/media/preloader.62d5c54d.svg\";","import preloader from \"../../../assets/preloader.svg\";\r\nimport React from \"react\";\r\n\r\n\r\nconst Preloader = (props) => {\r\n    return(\r\n        <div>{props.isFetching ? <img src={preloader} /> : null}</div>\r\n    )\r\n}\r\n\r\nexport default Preloader","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = state => {\r\n    return state.FriendsPage.users\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\n\r\nexport const getTotalCountUsers = state => {\r\n    return state.FriendsPage.totalCountUsers\r\n}\r\nexport const getPageUser = state => {\r\n    return state.FriendsPage.pageUser\r\n}\r\nexport const getActivePageUser = state => {\r\n    return state.FriendsPage.activePageUser\r\n}\r\nexport const getIsFetching = state => {\r\n    return state.FriendsPage.isFetching\r\n}\r\nexport const getFollowingInProgress = state => {\r\n    return state.FriendsPage.followingInProgress\r\n}\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nimport {\r\n    activePage,\r\n    follow,\r\n    requestUsers,\r\n    toggleFollowingProgress,\r\n    unfollow,\r\n} from \"../../redux/Friends-page-reducer\";\r\nimport Friends from \"./Friends\";\r\nimport Preloader from \"./Preloader/Preloader\";\r\nimport {WithAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getActivePageUser,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageUser,\r\n    getTotalCountUsers, getUsers\r\n} from \"../../redux/users-selectors\";\r\nimport {Helmet} from \"react-helmet\";\r\n\r\n\r\nclass FriendsContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.activePageUser, this.props.pageUser)\r\n    };\r\n\r\n    onPageChange = (activePageSucces) => {\r\n        this.props.activePage(activePageSucces, this.props.activePageUser, this.props.pageUser)\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n            <Helmet>\r\n                <title>Друзья</title>\r\n            </Helmet>\r\n            <Preloader {...this.props}/>\r\n            <Friends {...this.props} onPageChange={this.onPageChange}/>\r\n        </div>)\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => (\r\n    {\r\n        users: getUsers(state),\r\n        totalCountUsers: getTotalCountUsers(state),\r\n        pageUser: getPageUser(state),\r\n        activePageUser: getActivePageUser(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n)\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        toggleFollowingProgress,\r\n        getUsers: requestUsers,\r\n        activePage\r\n    }),\r\n    WithAuthRedirect\r\n)(FriendsContainer)\r\n","import {ProfileApi, UsersAPI} from \"../API/Api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'profile/ADD-POST';\r\nconst UPDATE_NEW_POST_TEXT = 'profile/UPDATE-NEW-POST-TEXT';\r\nconst SET_PROFILE_PAGE = 'profile/SET_PROFILE_PAGE';\r\nconst SET_PROFILE_STATUS = 'profile/SET_PROFILE_STATUS';\r\nconst SAVE_PHOTO = 'profile/SAVE_PHOTO';\r\n\r\n\r\n\r\nlet initialState = {\r\n    messageData: [],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst ProfilePageReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let stateCopy = {...state}\r\n            stateCopy.messageData = [...state.messageData]\r\n            stateCopy.messageData.push(\r\n                {message: action.NewPost}\r\n            );\r\n            return stateCopy;\r\n        }\r\n        case SET_PROFILE_PAGE: {\r\n            return {\r\n                ...state, profile: action.profile\r\n            }\r\n        }\r\n        case SET_PROFILE_STATUS: {\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        }\r\n        case SAVE_PHOTO: {\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\nexport const AddPostActionCreator = (NewPost) => {\r\n    return {type: ADD_POST, NewPost}\r\n}\r\nexport const UpdateNewPostTextActionCreator = (text) => {\r\n    return {type: UPDATE_NEW_POST_TEXT, newPostText: text}\r\n}\r\n\r\nexport const setProfile = (profile) => {\r\n    return {type: SET_PROFILE_PAGE, profile}\r\n}\r\n\r\nconst setProfileStatus = (status) => {\r\n    return {type: SET_PROFILE_STATUS, status}\r\n}\r\n\r\nconst savePhotoSuccess = (photos) => {\r\n    return {type: SAVE_PHOTO, photos}\r\n}\r\n\r\n\r\n\r\nexport const getUserId = (UserId) => {\r\n    return (dispatch) => {\r\n        UsersAPI.getUserId(UserId)\r\n            .then(response => {\r\n                const profile = response;\r\n                dispatch(setProfile(profile))\r\n            })\r\n    }\r\n}\r\n\r\nexport const getStatus = (userId) => {\r\n    return dispatch => {\r\n        ProfileApi.getStatus(userId)\r\n            .then(response => {\r\n                dispatch(setProfileStatus(response.data))\r\n            })\r\n    }\r\n}\r\n\r\nexport const updateProfileStatus = (status) => {\r\n    return dispatch => {\r\n        ProfileApi.updateStatus(status)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setProfileStatus(status))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => {\r\n    return dispatch => {\r\n        ProfileApi.savePhoto(file)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    let savePhoto = response.data.data.photos\r\n                    dispatch(savePhotoSuccess(savePhoto))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => {\r\n    return (dispatch, getState) => {\r\n        let userId = getState().Auth.id\r\n        ProfileApi.saveProfileInfo(profile)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(getUserId(userId))\r\n                } else {\r\n                    dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}));\r\n                    //return Promise.reject(response.data.messages[0])\r\n                }\r\n        })\r\n    }\r\n}\r\nexport default ProfilePageReducer","import style from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n    return(\r\n        <div className={style.post}>{props.message}</div>\r\n    )\r\n}\r\n\r\nexport default Post","import style from \"../Home.module.css\";\r\nimport Post from \"../Post/Post\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utilities/validator\";\r\nimport {Textarea} from \"../../common/FormsControls\";\r\n\r\n\r\nconst Posts = (props) => {\r\n    let messageElement = props.state.messageData.map(el => <Post message={el.message}/>)\r\n\r\n    let onPostSubmit = values => {\r\n        props.AddPost(values.NewPost)\r\n    }\r\n    return (\r\n        <div className={style.post}>\r\n            <NewReduxPostForm onSubmit={onPostSubmit}/>\r\n            {messageElement}\r\n        </div>\r\n    )\r\n}\r\n\r\nlet MaxLength = maxLengthCreator(300)\r\n\r\nlet NewPostForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} name={'NewPost'} placeholder={'NewPost'}\r\n                   validate={[required, MaxLength]}/>\r\n            <button>AddPost</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nlet NewReduxPostForm = reduxForm({\r\n    form: 'NewPost'\r\n})(NewPostForm)\r\n\r\nexport default Posts","import React from \"react\";\r\nimport {AddPostActionCreator, UpdateNewPostTextActionCreator} from './../../../redux/Profile-page-reducer'\r\nimport Posts from \"./Posts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        state: state.ProfilePage\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return{\r\n        AddPost: (NewPost) => {dispatch(AddPostActionCreator(NewPost))},\r\n    }\r\n}\r\n\r\nconst PostsContainer = connect(mapStateToProps, mapDispatchToProps)(Posts)\r\n\r\nexport default PostsContainer","import React, {useEffect, useState} from \"react\";\r\n\r\nconst StatusHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activeEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const inactiveEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateProfileStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"status\">\r\n            {!editMode &&\r\n            <div>\r\n                <b>Статус:</b> <span onDoubleClick={activeEditMode}>{props.status || 'Установить статус'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input onChange={onStatusChange} autoFocus={true} onBlur={inactiveEditMode} type=\"text\"\r\n                       value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StatusHooks","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {CheckboxCustom, Input, Textarea} from \"../../common/FormsControls\";\r\nimport style from './HomeInfo.module.css'\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nconst ProfileDataForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            {props.error &&\r\n            <div className={style.error}>{props.error}</div>\r\n            }\r\n            <div><b>Имя:</b><Field name={'fullName'} component={Input}/></div>\r\n            <div><b>Обо мне:</b> <Field name={'aboutMe'} component={Textarea}/>\r\n            </div>\r\n            <div>\r\n                <b>Нахожусь в поиске работы: </b><Field type={'checkbox'} name={'lookingForAJob'} component={CheckboxCustom}/>\r\n            </div>\r\n            <div>\r\n                <b>Скиллы:</b><Field component={Textarea} name={'lookingForAJobDescription'}/>\r\n            </div>\r\n            <div>\r\n                <b>Контакты:</b>{Object.keys(props.profile.contacts).map(key => {\r\n                return (\r\n                    <div>\r\n                        <b>{key}:</b>{<Field placeholder={key} name={\"contacts.\" + key} component={Input}/>}\r\n                    </div>\r\n                )\r\n            })}\r\n\r\n            </div>\r\n            <div>\r\n                <button><Button variant=\"contained\" endIcon={<SendIcon />}>\r\n                    Send\r\n                </Button></button>\r\n\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ProfileDataFormRedux = reduxForm({form: 'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataFormRedux","import React, {useState} from \"react\";\r\nimport Preloader from \"../../Friends/Preloader/Preloader\";\r\nimport StatusHooks from \"../Posts/StatusHooks\";\r\nimport defPhoto from \"../../../assets/default-photo.png\";\r\nimport style from './HomeInfo.module.css'\r\nimport ProfileDataFormRedux from \"./ProfileDataForm\";\r\nimport {Button, Input} from \"@material-ui/core\";\r\n\r\n\r\n\r\nconst HomeInfo = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n\r\n    const onSubmit = value => {\r\n        props.saveProfile(value)\r\n        setEditMode(false)\r\n    }\r\n\r\n    return (<>\r\n            <div><img src={props.profile.photos.large || defPhoto} className={style.mainPhoto}/></div>\r\n            {/*{props.isOwner && <input type=\"file\" onChange={onMainPhotoSelected}/>}*/}\r\n            {props.isOwner && <label htmlFor=\"contained-button-file\">\r\n                <Input accept=\"image/*\" id=\"contained-button-file\" multiple type=\"file\" onChange={onMainPhotoSelected} />\r\n                <Button variant=\"contained\" component=\"span\">\r\n                    Upload\r\n                </Button>\r\n            </label>}\r\n            {editMode ?\r\n                <ProfileDataFormRedux onSubmit={onSubmit} profile={props.profile} initialValues={props.profile}/> :\r\n                <ProfileData profile={props.profile} isOwner={props.isOwner} goToEditMode={() => {\r\n                    setEditMode(true)\r\n                }}/>}\r\n            <StatusHooks status={props.status} updateProfileStatus={props.updateProfileStatus}/>\r\n        </>\r\n    )\r\n}\r\n\r\nconst Contact = ({contactTitle, contactValue}) => {\r\n    return <div className={style.contact}><b>{contactTitle}:</b> <a href={contactValue}>{contactValue}</a></div>\r\n}\r\n\r\nconst ProfileData = (props) => {\r\n    return (\r\n        <div>\r\n            <div><b>Имя:</b>{props.profile.fullName}</div>\r\n            <div><b>Обо мне:</b> {(props.profile.aboutMe == null) ? <span>Нету информации</span> :\r\n                <span>{props.profile.aboutMe}</span>}\r\n            </div>\r\n            <div>\r\n                <b>Нахожусь в поиске работы: </b>{props.profile.lookingForAJob ? 'Да' : 'Нет'}\r\n            </div>\r\n            {props.profile.lookingForAJob &&\r\n            <div>\r\n                <b>Скиллы: </b>{props.profile.lookingForAJobDescription}\r\n            </div>\r\n            }\r\n            <div>\r\n                <b>Контакты:</b>{Object.keys(props.profile.contacts).map(key => {\r\n                return <Contact contactTitle={key} contactValue={props.profile.contacts[key]}/>\r\n            })}\r\n            </div>\r\n            {props.isOwner && <div>\r\n                <button onClick={props.goToEditMode}>Изменить</button>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomeInfo;","import style from './Home.module.css'\r\nimport PostsContainer from \"./Posts/PostsContainrt\";\r\nimport HomeInfo from \"./HomeInfo/HomeInfo\";\r\nimport {useEffect} from \"react\";\r\n\r\n\r\nconst Home = (props) => {\r\n\r\n    return (\r\n        <div className={style.home}>\r\n            <HomeInfo profile={props.profile} status={props.status} isOwner={props.isOwner} updateProfileStatus={props.updateProfileStatus} savePhoto={props.savePhoto} saveProfile={props.saveProfile}/>\r\n            <PostsContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React from \"react\";\r\nimport Home from \"./Home\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserId, savePhoto, saveProfile, updateProfileStatus} from \"../../redux/Profile-page-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {WithAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\n\r\nclass HomeContainer extends React.Component {\r\n\r\n    checkUpdate() {\r\n        let UserId = this.props.match.params.UserId;\r\n        if (!UserId) {\r\n            UserId = this.props.loginId\r\n        }\r\n        this.props.getUserId(UserId)\r\n        this.props.getStatus(UserId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.checkUpdate();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.match.params.UserId != prevProps.match.params.UserId) {\r\n            this.checkUpdate()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (<>\r\n            {this.props.profile && <Helmet>\r\n                <title>{this.props.profile.fullName}</title>\r\n            </Helmet>}\r\n            <Home {...this.props} profile={this.props.profile} isOwner={!this.props.match.params.UserId} savePhoto={this.props.savePhoto} saveProfile={this.props.saveProfile}/>\r\n        </>)\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => (\r\n    {\r\n        profile: state.ProfilePage.profile,\r\n        status: state.ProfilePage.status,\r\n        loginId: state.Auth.id,\r\n\r\n    }\r\n)\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserId, getStatus, updateProfileStatus, savePhoto, saveProfile}),\r\n    withRouter,\r\n    WithAuthRedirect\r\n)(HomeContainer)\r\n\r\n","export default __webpack_public_path__ + \"static/media/logo.f90ffb06.png\";","import style from './Header.module.css'\r\nimport logo from './images/logo.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {styled} from '@mui/material/styles';\r\nimport Badge from '@mui/material/Badge';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport Stack from '@mui/material/Stack';\r\n\r\nconst StyledBadge = styled(Badge)(({theme}) => ({\r\n    '& .MuiBadge-badge': {\r\n        backgroundColor: '#44b700',\r\n        color: '#44b700',\r\n        boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n        '&::after': {\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            borderRadius: '50%',\r\n            animation: 'ripple 1.2s infinite ease-in-out',\r\n            border: '1px solid currentColor',\r\n            content: '\"\"',\r\n        },\r\n    },\r\n    '@keyframes ripple': {\r\n        '0%': {\r\n            transform: 'scale(.8)',\r\n            opacity: 1,\r\n        },\r\n        '100%': {\r\n            transform: 'scale(2.4)',\r\n            opacity: 0,\r\n        },\r\n    },\r\n}));\r\n\r\nconst SmallAvatar = styled(Avatar)(({theme}) => ({\r\n    width: 22,\r\n    height: 22,\r\n    border: `2px solid ${theme.palette.background.paper}`,\r\n}));\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <div className={style.header}>\r\n            <NavLink to=\"/\" className={style.headerLink}>\r\n                <svg width=\"136\" height=\"24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <g clip-path=\"url(#new_logo_vk_with_text__a)\">\r\n                        <g clip-path=\"url(#new_logo_vk_with_text__b)\">\r\n                            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n                                  d=\"M67 12.5c0 3.34-2.43 5.5-5.88 5.5-3.45 0-5.88-2.16-5.88-5.5S57.67 7 61.12 7C64.57 7 67 9.16 67 12.5zm-9.22 0c0 2.07 1.35 3.5 3.34 3.5s3.34-1.43 3.34-3.5-1.35-3.45-3.34-3.45-3.34 1.38-3.34 3.45zm-17.03-.21c.95-.44 1.56-1.18 1.56-2.33 0-1.73-1.58-2.96-3.87-2.96h-5.27v11h5.5c2.37 0 4.02-1.29 4.02-3.05 0-1.33-.87-2.32-1.94-2.66zM35.6 9.01h2.83c.85 0 1.44.5 1.44 1.2s-.6 1.2-1.44 1.2h-2.83V9zM38.67 16h-3.06V13.3h3.06c.96 0 1.59.55 1.59 1.36 0 .8-.63 1.33-1.59 1.33zM51.84 18h3.19l-5.06-5.71L54.61 7h-2.9l-3.68 4.27h-.6V7H45v11h2.44v-4.38h.59l3.8 4.38zM76.47 7v4.34h-4.93V7H69.1v11h2.43v-4.44h4.93V18h2.43V7h-2.43zM86.9 18h-2.44V9.22h-3.8V7H90.7v2.22h-3.8V18zm9.7-11c-2.14 0-4.02.89-4.57 2.8l2.24.37a2.38 2.38 0 012.2-1.25c1.33 0 2.12.9 2.22 2.33h-2.37c-3.23 0-4.84 1.42-4.84 3.45 0 2.05 1.59 3.3 3.83 3.3 1.8 0 3-.82 3.53-1.73l.5 1.73h1.8v-6.18c0-3.19-1.73-4.82-4.54-4.82zm-.72 9.16c-1.19 0-1.95-.61-1.95-1.57 0-.84.62-1.43 2.48-1.43h2.3c0 1.8-1.14 3-2.83 3zM113.73 18h-3.2l-3.8-4.38h-.6V18h-2.42V7h2.43v4.27h.59L110.4 7h2.9l-4.63 5.29 5.05 5.71zm4.27 0h2.44V9.22h3.8V7H114.2v2.22h3.8V18zm12.3-11c3.33 0 5.7 2.2 5.7 5.37 0 .3-.02.55-.04.79h-8.84c.23 1.69 1.46 2.83 3.32 2.83 1.29 0 2.3-.55 2.83-1.33l2.29.38c-.83 2.1-2.98 2.96-5.27 2.96-3.34 0-5.71-2.18-5.71-5.5s2.37-5.5 5.71-5.5zm3.06 4.25A3.06 3.06 0 00130.29 9a3 3 0 00-3.02 2.25h6.09z\"\r\n                                  fill=\"currentColor\"></path>\r\n                            <path\r\n                                d=\"M11.5 24h1c5.44 0 8.15 0 9.83-1.68C24 20.64 24 17.92 24 12.5v-1.02c0-5.4 0-8.12-1.67-9.8C20.65 0 17.93 0 12.5 0h-1C6.06 0 3.35 0 1.67 1.68 0 3.36 0 6.08 0 11.5v1.02c0 5.4 0 8.12 1.68 9.8C3.36 24 6.08 24 11.5 24z\"\r\n                                fill=\"#07F\"></path>\r\n                            <path\r\n                                d=\"M12.77 17.29c-5.47 0-8.59-3.75-8.72-9.99h2.74c.09 4.58 2.11 6.52 3.71 6.92V7.3h2.58v3.95c1.58-.17 3.24-1.97 3.8-3.95h2.58a7.62 7.62 0 01-3.51 4.98 7.9 7.9 0 014.11 5.01h-2.84a4.94 4.94 0 00-4.14-3.57v3.57h-.31z\"\r\n                                fill=\"#fff\"></path>\r\n                        </g>\r\n                    </g>\r\n                    <defs>\r\n                        <clipPath id=\"new_logo_vk_with_text__a\">\r\n                            <path fill=\"#fff\" transform=\"translate(.001)\" d=\"M0 0h136v24H0z\"></path>\r\n                        </clipPath>\r\n                        <clipPath id=\"new_logo_vk_with_text__b\">\r\n                            <path fill=\"#fff\" transform=\"translate(0 -12)\" d=\"M0 0h136v48H0z\"></path>\r\n                        </clipPath>\r\n                    </defs>\r\n                </svg>\r\n            </NavLink>\r\n            <div className={style.customHeader}>{props.isAuth && <div><Stack direction=\"row\" spacing={2}>\r\n                <StyledBadge\r\n                    overlap=\"circular\"\r\n                    anchorOrigin={{vertical: 'bottom', horizontal: 'right'}}\r\n                    variant=\"dot\"\r\n                >\r\n                    <Avatar alt=\"Remy Sharp\"\r\n                            src={`https://social-network.samuraijs.com/activecontent/images/users/${props.loginId}/user.jpg?v=6`}/>\r\n                </StyledBadge></Stack></div>}\r\n                <div className={style.registration}>\r\n                    {props.isAuth\r\n                        ? <div className={style.headerCustomItem}>{props.login} <Button onClick={props.logout}\r\n                                                                                        variant=\"outlined\">Выйти</Button>\r\n                        </div>\r\n                        : <NavLink to={'/login'}>\r\n                            <Button variant=\"contained\" href=\"#contained-buttons\">\r\n                                Войти\r\n                            </Button>\r\n                        </NavLink>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import {AuthAPI, SecurityAPI} from \"../API/Api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS'\r\n\r\n\r\nlet initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false,\r\n    captcha: null\r\n}\r\n\r\nconst AuthReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const setUserData = (id, login, email, isAuth) => ({type: SET_USER_DATA, data: {id, login, email, isAuth}})\r\nconst getCaptchaSuccess = (captcha) => ({type: GET_CAPTCHA_URL_SUCCESS, data: {captcha}})\r\n\r\nexport const Auth = () => {\r\n    return (dispatch) => {\r\n        return AuthAPI.auth()\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    let {id, login, email} = response.data.data;\r\n                    dispatch(setUserData(id, login, email, true))\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n    return (dispatch) => {\r\n        AuthAPI.login(email, password, rememberMe, captcha)\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(Auth())\r\n                } else {\r\n                    if (response.data.resultCode === 10) {\r\n                        dispatch(getCaptchaUrl())\r\n                    }\r\n                    dispatch(stopSubmit('login', {_error: response.data.messages}))\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const logout = () => {\r\n    return (dispatch) => {\r\n        AuthAPI.logout()\r\n            .then(response => {\r\n                if (response.data.resultCode === 0) {\r\n                    dispatch(setUserData(null, null, null, false))\r\n                }\r\n            })\r\n    }\r\n}\r\nexport const getCaptchaUrl = () => {\r\n    return (dispatch) => {\r\n        SecurityAPI.getCaptchaUrl()\r\n            .then(response => {\r\n                let captcha = response.data.url;\r\n                dispatch(getCaptchaSuccess(captcha))\r\n            })\r\n    }\r\n}\r\n\r\n\r\nexport default AuthReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/Auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.Auth.isAuth,\r\n    login: state.Auth.login,\r\n    /*photos:state.ProfilePage.profile.photos*/\r\n    loginId: state.Auth.id\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {CheckboxCustom, Input} from \"../common/FormsControls\";\r\nimport {required} from \"../../utilities/validator\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/Auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Helmet} from \"react-helmet\";\r\nimport style from \"./Login.module.css\"\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'login'} name={'email'} component={Input} validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'password'} name={'password'} component={Input} type={'password'}\r\n                       validate={[required]}/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"checkbox\" name={'rememberMe'} component={CheckboxCustom}/> Remember me\r\n            </div>\r\n            <div>\r\n                <button>\r\n                    <Button className={style.customBtn} variant=\"contained\">Войти</Button>\r\n                </button>\r\n            </div>\r\n            {props.captcha && <img src={props.captcha}/>}\r\n            {props.captcha && <Field name={'captcha'} component={Input}/>}\r\n            {props.error &&\r\n            <div>{props.error}</div>\r\n            }\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = value => {\r\n        props.login(value.email, value.password, value.rememberMe, value.captcha)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/home'}/>\r\n    }\r\n\r\n    return (\r\n        <div className={style.login}>\r\n            <Helmet>\r\n                <title>Авторизация</title>\r\n            </Helmet>\r\n            <h1>Вход</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captcha={props.captcha}/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.Auth.isAuth,\r\n    captcha: state.Auth.captcha\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import {Auth} from \"./Auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst AppReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => dispatch => {\r\n        let promise = dispatch(Auth())\r\n        Promise.all([promise]).then(\r\n            () => {\r\n                dispatch(initializedSuccess())\r\n            }\r\n        )\r\n}\r\n\r\nexport default AppReducer","import './App.css';\r\nimport Footer from \"./Components/Footer/Footer\";\r\nimport Menu from \"./Components/Sidebar-menu/Menu\";\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport Feed from \"./Components/Feed/Feed\";\r\nimport MessageContainer from \"./Components/Message/MessgeContainer\";\r\nimport FriendsClass from \"./Components/Friends/FriendsContainer\";\r\nimport HomeContainer from \"./Components/Home/HomeContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport Login from \"./Components/Login/Login\";\r\nimport {Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/App-reducer\";\r\nimport Preloader from \"./Components/Friends/Preloader/Preloader\";\r\nimport React from \"react\";\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        /*if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }*/\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <HeaderContainer/>\r\n                <div className='main'>\r\n                    <Menu/>\r\n                    <div className=\"components\">\r\n                        <Route path='/home/:UserId?' render={() => <HomeContainer/>}/>\r\n                        <Route path='/message' render={() => <MessageContainer/>}/>\r\n                        <Route path='/feed' render={() => <Feed/>}/>\r\n                        <Route path='/friends' render={() => <FriendsClass/>}/>\r\n                        <Route path='/login' render={() => <Login/>}/>\r\n                    </div>\r\n                </div>\r\n                <Footer/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App)\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport ProfilePageReducer from \"./Profile-page-reducer\";\r\nimport DialogsPageReducer from \"./Dialogs-page-reducer\";\r\nimport FriendsReducer from \"./Friends-page-reducer\";\r\nimport AuthReducer from \"./Auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport AppReducer from \"./App-reducer\";\r\n\r\n\r\nlet Reducers = combineReducers(\r\n    {\r\n        ProfilePage: ProfilePageReducer,\r\n        DialogsPage: DialogsPageReducer,\r\n        FriendsPage: FriendsReducer,\r\n        Auth: AuthReducer,\r\n        app: AppReducer,\r\n        form: formReducer,\r\n    }\r\n)\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(Reducers, /* preloadedState, */ composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n\r\nexport default store;\r\nwindow.store = store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\nexport let Rerender = (state) => {\r\n    ReactDOM.render(\r\n        <React.StrictMode>\r\n            <BrowserRouter>\r\n                <Provider store={store}>\r\n                    <App />\r\n                </Provider>\r\n            </BrowserRouter>\r\n        </React.StrictMode>,\r\n        document.getElementById('root')\r\n    )\r\n}\r\nRerender(store.getState())\r\n\r\nstore.subscribe(() => {\r\n    Rerender(store.getState())\r\n})\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__1RQYO\",\"active\":\"Menu_active__13qyg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3ElNF\",\"registration\":\"Header_registration__lp8JP\",\"customHeader\":\"Header_customHeader__S0xyg\",\"headerCustomItem\":\"Header_headerCustomItem__3xgAJ\",\"headerLink\":\"Header_headerLink__2DYA0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainPhoto\":\"HomeInfo_mainPhoto__zq8lQ\",\"contact\":\"HomeInfo_contact__1cMrv\",\"error\":\"HomeInfo_error__Mcb8f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formsControls\":\"FormsControls_formsControls__eMbTF\",\"error\":\"FormsControls_error__13SCH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active\":\"friendPage_active__3trul\",\"default\":\"friendPage_default__3ggKc\",\"btn\":\"friendPage_btn__FC1wW\"};"],"sourceRoot":""}