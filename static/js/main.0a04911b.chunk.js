(this.webpackJsonpbsu=this.webpackJsonpbsu||[]).push([[0],{100:function(e,t,n){e.exports={active:"friendPage_active__3trul",default:"friendPage_default__3ggKc",btn:"friendPage_btn__FC1wW"}},120:function(e,t,n){e.exports={dialogs:"Message_dialogs__32i0U",name:"Message_name__1Mrtl",message:"Message_message__21ZgR"}},141:function(e,t,n){e.exports={footer:"Footer_footer__kIIm_",info:"Footer_info__1012H"}},147:function(e,t,n){e.exports={preloader:"Preloader_preloader__1aNM7",preloader__image:"Preloader_preloader__image__1HqVD","preloader-rotate":"Preloader_preloader-rotate__2qICB",loaded_hiding:"Preloader_loaded_hiding__3MXwh",loaded:"Preloader_loaded__2t_GZ"}},148:function(e,t,n){e.exports={login:"Login_login__3a55o",customBtn:"Login_customBtn__14D4K"}},197:function(e,t,n){e.exports={post:"Post_post__2FFxG"}},240:function(e,t,n){},241:function(e,t,n){},364:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(61),i=n.n(a),s=(n(240),n(48)),o=n(49),l=n(52),u=n(51),j=(n(241),n(141)),d=n.n(j),h=n(1),b=function(){return Object(h.jsx)("div",{className:d.a.footer,children:Object(h.jsxs)("div",{className:d.a.info,children:[Object(h.jsx)("span",{children:"Kupreychik Kirill"})," ",(new Date).getFullYear()]})})},f=n(68),p=n.n(f),O=n(26),m=n(181),x=n.n(m),g=n(187),v=n.n(g),_=n(188),P=n.n(_),w=n(189),C=n.n(w),I=function(){return Object(h.jsx)("div",{className:p.a.menu,children:Object(h.jsxs)("div",{className:p.a.menuItem,children:[Object(h.jsxs)(O.b,{to:"/home",activeClassName:p.a.active,children:[Object(h.jsx)(x.a,{}),"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"]}),Object(h.jsxs)(O.b,{to:"/message",activeClassName:p.a.active,children:[Object(h.jsx)(v.a,{}),"\u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"]}),Object(h.jsxs)(O.b,{to:"/feed",activeClassName:p.a.active,children:[Object(h.jsx)(P.a,{}),"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"]}),Object(h.jsxs)(O.b,{to:"/friends",activeClassName:p.a.active,children:[Object(h.jsx)(C.a,{}),"\u0414\u0440\u0443\u0437\u044c\u044f"]})]})})},N=n(21),S=n(50),A=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(S.a,{children:Object(h.jsx)("title",{children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(h.jsx)("div",{children:"Feed"})]})},M=n(23),y=n(7),F="dialogs/ADD-MESSAGE",U={MessageData:[{message:""}],nameData:[{id:1,name:"Kirill"}]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:var n=Object(y.a)({},e);return n.MessageData=Object(M.a)(e.MessageData),n.MessageData.push({message:t.Message}),n;default:return e}},E=n(120),z=n.n(E),T=n(177),D=n(178),H=n(122),L=n(99),V=n.n(L),R=n(403),G=n(402),J=["input","meta"],B=["input","meta"],K=["input","meta"],q=function(e){var t=e.input,n=e.meta,r=Object(H.a)(e,J),c=n.touched&&n.error;return Object(h.jsxs)("div",{className:V.a.formsControls+" "+(c?V.a.error:""),children:[Object(h.jsx)("div",{children:Object(h.jsx)("textarea",Object(y.a)(Object(y.a)({},r),t))}),c&&Object(h.jsx)("span",{children:n.error})]})},X=function(e){var t=e.input,n=e.meta,r=Object(H.a)(e,B),c=n.touched&&n.error;return Object(h.jsxs)("div",{className:V.a.formsControls+" "+(c?V.a.error:""),children:[Object(h.jsx)("div",{children:Object(h.jsx)("input",Object(y.a)(Object(y.a)({},r),t))}),c&&Object(h.jsx)(G.a,{variant:"filled",severity:"error",children:n.error})]})},Q=function(e){var t=e.input,n=(e.meta,Object(H.a)(e,K));return Object(h.jsx)(R.a,Object(y.a)(Object(y.a)(Object(y.a)({},{inputProps:{"aria-label":"Checkbox demo"}}),n),t))},W=function(e){if(!e)return"Field is required"},Y=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}},Z=function(e){return Object(h.jsx)(O.b,{to:"/message/"+e.id,children:e.name})},$=function(e){return Object(h.jsx)("div",{children:e.message})},ee=Y(10),te=Object(D.a)({form:"AddMessage"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)(T.a,{component:q,validate:[W,ee],name:"Message",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",cols:"50",rows:"10"}),Object(h.jsx)("button",{children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})),ne=function(e){var t=e.state.MessageData.map((function(e){return Object(h.jsx)($,{message:e.message})})),n=e.state.nameData.map((function(e){return Object(h.jsx)(Z,{id:e.id,name:e.name})}));return Object(h.jsxs)("div",{className:z.a.dialogs,children:[Object(h.jsx)(S.a,{children:Object(h.jsx)("title",{children:"\u041c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440"})}),Object(h.jsx)("div",{className:z.a.name,children:n}),Object(h.jsxs)("div",{className:z.a.message,children:[t,Object(h.jsx)(te,{onSubmit:function(t){e.AddMessage(t.Message)}})]})]})},re=n(20),ce=function(e){return{isAuth:e.Auth.isAuth}},ae=function(e){var t=function(t){Object(l.a)(r,t);var n=Object(u.a)(r);function r(){return Object(s.a)(this,r),n.apply(this,arguments)}return Object(o.a)(r,[{key:"render",value:function(){return this.props.isAuth?Object(h.jsx)(e,Object(y.a)({},this.props)):Object(h.jsx)(N.a,{to:"/login"})}}]),r}(c.a.Component);return Object(re.b)(ce)(t)},ie=n(16),se=Object(ie.d)(Object(re.b)((function(e){return{state:e.DialogsPage}}),(function(e){return{AddMessage:function(t){e(function(e){return{type:F,Message:e}}(t))}}})),ae)(ne),oe=n(196),le=n.n(oe).a.create({withCredentials:!0,headers:{"API-KEY":"53f4be4b-8bc9-4c00-b66d-671af61de6ae"},baseURL:"https://social-network.samuraijs.com/api/1.0"}),ue=function(e,t){return le.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},je=function(e){return le.post("follow/".concat(e)).then((function(e){return e.data}))},de=function(e){return le.delete("follow/".concat(e)).then((function(e){return e.data}))},he=function(e){return le.get("profile/"+e).then((function(e){return e.data}))},be=function(e){return le.get("/profile/status/"+e)},fe=function(e){return le.put("/profile/status",{status:e})},pe=function(e){var t=new FormData;return t.append("image",e),le.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},Oe=function(e){return le.put("/profile",e)},me=function(){return le.get("auth/me")},xe=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return le.post("/auth/login",{email:e,password:t,rememberMe:n,captcha:r})},ge=function(){return le.delete("/auth/login")},ve=function(){return le.get("/security/get-captcha-url")},_e=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(y.a)(Object(y.a)({},e),r):e}))},Pe="friends/FOLLOW",we="friends/UNFOLLOW",Ce="friends/SET_USERS",Ie="friends/ACTIVE_PAGE_USER",Ne="friends/SET_TOTAL_COUNT_USERS",Se="friends/TOGGLE_IS_FETCHING",Ae="friends/TOGGLE_IS_FOLLOWING_PROGRESS",Me={users:[],totalCountUsers:0,pageUser:5,activePageUser:1,isFetching:!1,followingInProgress:[]},ye=function(e){return{type:Ce,users:e}},Fe=function(e){return{type:Se,isFetching:e}},Ue=function(e,t){return{type:Ae,isFetching:e,userId:t}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(y.a)(Object(y.a)({},e),{},{users:_e(e.users,t.userId,"id",{followed:!0})});case we:return Object(y.a)(Object(y.a)({},e),{},{users:_e(e.users,t.userId,"id",{followed:!1})});case Ce:return Object(y.a)(Object(y.a)({},e),{},{users:Object(M.a)(t.users)});case Ie:return Object(y.a)(Object(y.a)({},e),{},{activePageUser:t.activePageUser});case Ne:return Object(y.a)(Object(y.a)({},e),{},{totalCountUsers:t.totalCountUsers});case Se:return Object(y.a)(Object(y.a)({},e),{},{isFetching:t.isFetching});case Ae:return Object(y.a)(Object(y.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(M.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!=t.userId}))});default:return e}},Ee=n(19),ze=n.p+"static/media/default-photo.7cae1f1e.png",Te=n(100),De=n.n(Te),He=n(401),Le=function(e,t){for(var n=t.portionSize,c=void 0===n?10:n,a=Math.ceil(e.totalCountUsers/e.pageUser),i=[],s=1;s<=a;s++)i.push(s);var o=Math.ceil(a/c),l=Object(r.useState)(1),u=Object(Ee.a)(l,2),j=u[0],d=u[1],b=(j-1)*c+1,f=j*c;return Object(h.jsxs)("div",{children:[j>1&&Object(h.jsx)("button",{onClick:function(){d(j-1)},children:"PREV"}),i.filter((function(e){return e>=b&&e<=f})).map((function(t){return Object(h.jsx)("span",{onClick:function(){e.onPageChange(t)},className:"".concat(De.a.default," ").concat(e.activePageUser===t&&De.a.active),children:t})})),o>j&&Object(h.jsx)("button",{onClick:function(){d(j+1)},children:"NEXT"}),e.users.map((function(t){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(O.b,{to:/home/+t.id,children:Object(h.jsx)("img",{src:null!=t.photos.small?t.photos.small:ze})})}),Object(h.jsx)("div",{children:t.followed?Object(h.jsx)(He.a,{className:De.a.btn,disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)},children:"Unfollow"}):Object(h.jsx)(He.a,{className:De.a.btn,disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)},children:"follow"})}),Object(h.jsx)("div",{children:t.name})]},t.id)}))]})},Ve=(n.p,n(147)),Re=n.n(Ve),Ge=function(e){return Object(h.jsx)("div",{className:Re.a.preloader,children:Object(h.jsx)("svg",{className:Re.a.preloader__image,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(h.jsx)("path",{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"})})})},Je=n(200),Be=Object(Je.a)((function(e){return e.FriendsPage.users}),(function(e){return e.filter((function(e){return!0}))})),Ke=function(e){return e.FriendsPage.totalCountUsers},qe=function(e){return e.FriendsPage.pageUser},Xe=function(e){return e.FriendsPage.activePageUser},Qe=function(e){return e.FriendsPage.isFetching},We=function(e){return e.FriendsPage.followingInProgress},Ye=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).onPageChange=function(e){r.props.activePage(e,r.props.activePageUser,r.props.pageUser)},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.activePageUser,this.props.pageUser)}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)(S.a,{children:Object(h.jsx)("title",{children:"\u0414\u0440\u0443\u0437\u044c\u044f"})}),this.props.isFetching?Object(h.jsx)(Ge,{}):null," ",Object(h.jsx)(Le,Object(y.a)(Object(y.a)({},this.props),{},{onPageChange:this.onPageChange}))]})}}]),n}(c.a.Component),Ze=Object(ie.d)(Object(re.b)((function(e){return{users:Be(e),totalCountUsers:Ke(e),pageUser:qe(e),activePageUser:Xe(e),isFetching:Qe(e),followingInProgress:We(e)}}),{follow:function(e){return function(t){t(Ue(!0,e)),je(e).then((function(n){0==n.resultCode&&t({type:Pe,userId:e}),t(Ue(!1,e))}))}},unfollow:function(e){return function(t){t(Ue(!0,e)),de(e).then((function(n){0==n.resultCode&&t({type:we,userId:e}),t(Ue(!1,e))}))}},toggleFollowingProgress:Ue,getUsers:function(e,t){return function(n){n(Fe(!0)),ue(e,t).then((function(e){var t=e.items;n(ye(t));var r=e.totalCount;n({type:Ne,totalCountUsers:r}),n(Fe(!1))}))}},activePage:function(e,t,n){return function(r){r(Fe(!0)),r(function(e){return{type:Ie,activePageUser:e}}(e)),ue(t,n).then((function(e){var t=e.items;r(ye(t)),r(Fe(!1))}))}}}),ae)(Ye),$e=n(98),et=n.n($e),tt=n(56),nt="profile/ADD-POST",rt="profile/SET_PROFILE_PAGE",ct="profile/SET_PROFILE_STATUS",at="profile/SAVE_PHOTO",it={messageData:[],profile:null,status:""},st=function(e){return{type:ct,status:e}},ot=function(e){return function(t){he(e).then((function(e){t(function(e){return{type:rt,profile:e}}(e))}))}},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:var n=Object(y.a)({},e);return n.messageData=Object(M.a)(e.messageData),n.messageData.push({message:t.NewPost}),n;case rt:return Object(y.a)(Object(y.a)({},e),{},{profile:t.profile});case ct:return Object(y.a)(Object(y.a)({},e),{},{status:t.status});case at:return Object(y.a)(Object(y.a)({},e),{},{profile:Object(y.a)(Object(y.a)({},e.profile),{},{photos:t.photos})});default:return e}},ut=n(197),jt=n.n(ut),dt=function(e){return Object(h.jsx)("div",{className:jt.a.post,children:e.message})},ht=(Y(300),Object(D.a)({form:"NewPost"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)(T.a,{className:et.a.postTextArea,component:q,name:"NewPost",placeholder:"\u0427\u0442\u043e \u0443 \u0412\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e?"}),Object(h.jsx)("button",{children:Object(h.jsx)(He.a,{variant:"contained",component:"span",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})})]})}))),bt=function(e){var t=e.state.messageData.map((function(e){return Object(h.jsx)(dt,{message:e.message})}));return Object(h.jsxs)("div",{className:et.a.post,children:[Object(h.jsx)(ht,{onSubmit:function(t){e.AddPost(t.NewPost)}}),t]})},ft=Object(re.b)((function(e){return{state:e.ProfilePage}}),(function(e){return{AddPost:function(t){e(function(e){return{type:nt,NewPost:e}}(t))}}}))(bt),pt=n(41),Ot=n.n(pt),mt=function(e){var t=Object(r.useState)(!1),n=Object(Ee.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(e.status),s=Object(Ee.a)(i,2),o=s[0],l=s[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return Object(h.jsxs)("div",{className:"status",children:[!c&&Object(h.jsx)("div",{children:Object(h.jsx)("span",{onClick:function(){a(!0)},children:e.status||"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})}),c&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{className:Ot.a.statusInput,onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),e.updateProfileStatus(o)},type:"text",value:o})})]})},xt=n(198),gt=n.n(xt),vt=Object(D.a)({form:"edit-profile"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[e.error&&Object(h.jsx)("div",{className:Ot.a.error,children:e.error}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"\u0418\u043c\u044f:"}),Object(h.jsx)(T.a,{name:"fullName",component:X})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",Object(h.jsx)(T.a,{name:"aboutMe",component:q})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"\u041d\u0430\u0445\u043e\u0436\u0443\u0441\u044c \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: "}),Object(h.jsx)(T.a,{type:"checkbox",name:"lookingForAJob",component:Q})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"\u0421\u043a\u0438\u043b\u043b\u044b:"}),Object(h.jsx)(T.a,{component:q,name:"lookingForAJobDescription"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object.keys(e.profile.contacts).map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("b",{children:[e,":"]}),Object(h.jsx)(T.a,{placeholder:e,name:"contacts."+e,component:X})]})}))]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:Object(h.jsx)(He.a,{variant:"contained",endIcon:Object(h.jsx)(gt.a,{}),children:"Send"})})})]})})),_t=n(405),Pt=function(e){var t=e.contactTitle,n=e.contactValue;return Object(h.jsxs)("div",{className:Ot.a.contact,children:[Object(h.jsxs)("b",{children:[t,":"]})," ",Object(h.jsx)("a",{href:n,children:n})]})},wt=function(e){return Object(h.jsxs)("div",{className:Ot.a.infoInProfile,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"})," ",null==e.profile.aboutMe?Object(h.jsx)("b",{children:"\u041d\u0435\u0442\u0443 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"}):Object(h.jsx)("b",{children:e.profile.aboutMe})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"\u041d\u0430\u0445\u043e\u0436\u0443\u0441\u044c \u0432 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b: "}),e.profile.lookingForAJob?Object(h.jsx)("b",{children:"\u0414\u0430"}):Object(h.jsx)("b",{children:"\u041d\u0435\u0442"})]}),e.profile.lookingForAJob&&Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"\u0421\u043a\u0438\u043b\u043b\u044b: "}),Object(h.jsx)("b",{children:e.profile.lookingForAJobDescription})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("span",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),Object.keys(e.profile.contacts).map((function(t){return Object(h.jsx)(Pt,{contactTitle:t,contactValue:e.profile.contacts[t]})}))]}),e.isOwner&&Object(h.jsx)("div",{children:Object(h.jsx)(He.a,{className:"redBtn",onClick:e.goToEditMode,variant:"contained",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})},Ct=function(e){var t=Object(r.useState)(!1),n=Object(Ee.a)(t,2),c=n[0],a=n[1];if(!e.profile)return Object(h.jsx)(Ge,{});return Object(h.jsx)("div",{className:Ot.a.mainProfile,children:Object(h.jsxs)("div",{className:Ot.a.mainProfileItem,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:Ot.a.profilePhoto,children:Object(h.jsx)("img",{src:e.profile.photos.large||ze,className:Ot.a.mainPhoto})}),e.isOwner&&Object(h.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(h.jsx)(_t.a,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),Object(h.jsx)(He.a,{variant:"contained",component:"span",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e"})]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:Ot.a.profileFullName,children:e.profile.fullName}),Object(h.jsx)(mt,{status:e.status,updateProfileStatus:e.updateProfileStatus}),c?Object(h.jsx)(vt,{onSubmit:function(t){e.saveProfile(t),a(!1)},profile:e.profile,initialValues:e.profile}):Object(h.jsx)(wt,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){a(!0)}}),Object(h.jsx)(ft,{})]}),Object(h.jsx)("div",{className:Ot.a.statusPage,children:"online"})]})})},It=function(e){return Object(h.jsx)("div",{className:et.a.home,children:Object(h.jsx)(Ct,{profile:e.profile,status:e.status,isOwner:e.isOwner,updateProfileStatus:e.updateProfileStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile,isAuth:e.isAuth})})},Nt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"checkUpdate",value:function(){var e=this.props.match.params.UserId;e||(e=this.props.loginId),this.props.getUserId(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.checkUpdate()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.UserId!=e.match.params.UserId&&this.checkUpdate()}},{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[this.props.profile&&Object(h.jsx)(S.a,{children:Object(h.jsx)("title",{children:this.props.profile.fullName})}),Object(h.jsx)(It,Object(y.a)(Object(y.a)({},this.props),{},{profile:this.props.profile,isOwner:!this.props.match.params.UserId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))]})}}]),n}(c.a.Component),St=Object(ie.d)(Object(re.b)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status,loginId:e.Auth.id}}),{getUserId:ot,getStatus:function(e){return function(t){be(e).then((function(e){t(st(e.data))}))}},updateProfileStatus:function(e){return function(t){fe(e).then((function(n){0===n.data.resultCode&&t(st(e))}))}},savePhoto:function(e){return function(t){pe(e).then((function(e){if(0===e.data.resultCode){var n=e.data.data.photos;t({type:at,photos:n})}}))}},saveProfile:function(e){return function(t,n){var r=n().Auth.id;Oe(e).then((function(e){0===e.data.resultCode?t(ot(r)):t(Object(tt.a)("edit-profile",{_error:e.data.messages[0]}))}))}}}),N.f,ae)(Nt),At=n(78),Mt=n.n(At),yt=(n.p,n(18)),Ft=n(404),Ut=n(407),kt=n(409),Et=Object(yt.a)(Ft.a)((function(e){var t=e.theme;return{"& .MuiBadge-badge":{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(t.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}})),zt=(Object(yt.a)(Ut.a)((function(e){var t=e.theme;return{width:22,height:22,border:"2px solid ".concat(t.palette.background.paper)}})),function(e){return Object(h.jsxs)("div",{className:Mt.a.header,children:[Object(h.jsx)(O.b,{to:"/",className:Mt.a.headerLink,children:Object(h.jsxs)("svg",{width:"136",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsx)("g",{"clip-path":"url(#new_logo_vk_with_text__a)",children:Object(h.jsxs)("g",{"clip-path":"url(#new_logo_vk_with_text__b)",children:[Object(h.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M67 12.5c0 3.34-2.43 5.5-5.88 5.5-3.45 0-5.88-2.16-5.88-5.5S57.67 7 61.12 7C64.57 7 67 9.16 67 12.5zm-9.22 0c0 2.07 1.35 3.5 3.34 3.5s3.34-1.43 3.34-3.5-1.35-3.45-3.34-3.45-3.34 1.38-3.34 3.45zm-17.03-.21c.95-.44 1.56-1.18 1.56-2.33 0-1.73-1.58-2.96-3.87-2.96h-5.27v11h5.5c2.37 0 4.02-1.29 4.02-3.05 0-1.33-.87-2.32-1.94-2.66zM35.6 9.01h2.83c.85 0 1.44.5 1.44 1.2s-.6 1.2-1.44 1.2h-2.83V9zM38.67 16h-3.06V13.3h3.06c.96 0 1.59.55 1.59 1.36 0 .8-.63 1.33-1.59 1.33zM51.84 18h3.19l-5.06-5.71L54.61 7h-2.9l-3.68 4.27h-.6V7H45v11h2.44v-4.38h.59l3.8 4.38zM76.47 7v4.34h-4.93V7H69.1v11h2.43v-4.44h4.93V18h2.43V7h-2.43zM86.9 18h-2.44V9.22h-3.8V7H90.7v2.22h-3.8V18zm9.7-11c-2.14 0-4.02.89-4.57 2.8l2.24.37a2.38 2.38 0 012.2-1.25c1.33 0 2.12.9 2.22 2.33h-2.37c-3.23 0-4.84 1.42-4.84 3.45 0 2.05 1.59 3.3 3.83 3.3 1.8 0 3-.82 3.53-1.73l.5 1.73h1.8v-6.18c0-3.19-1.73-4.82-4.54-4.82zm-.72 9.16c-1.19 0-1.95-.61-1.95-1.57 0-.84.62-1.43 2.48-1.43h2.3c0 1.8-1.14 3-2.83 3zM113.73 18h-3.2l-3.8-4.38h-.6V18h-2.42V7h2.43v4.27h.59L110.4 7h2.9l-4.63 5.29 5.05 5.71zm4.27 0h2.44V9.22h3.8V7H114.2v2.22h3.8V18zm12.3-11c3.33 0 5.7 2.2 5.7 5.37 0 .3-.02.55-.04.79h-8.84c.23 1.69 1.46 2.83 3.32 2.83 1.29 0 2.3-.55 2.83-1.33l2.29.38c-.83 2.1-2.98 2.96-5.27 2.96-3.34 0-5.71-2.18-5.71-5.5s2.37-5.5 5.71-5.5zm3.06 4.25A3.06 3.06 0 00130.29 9a3 3 0 00-3.02 2.25h6.09z",fill:"currentColor"}),Object(h.jsx)("path",{d:"M11.5 24h1c5.44 0 8.15 0 9.83-1.68C24 20.64 24 17.92 24 12.5v-1.02c0-5.4 0-8.12-1.67-9.8C20.65 0 17.93 0 12.5 0h-1C6.06 0 3.35 0 1.67 1.68 0 3.36 0 6.08 0 11.5v1.02c0 5.4 0 8.12 1.68 9.8C3.36 24 6.08 24 11.5 24z",fill:"#07F"}),Object(h.jsx)("path",{d:"M12.77 17.29c-5.47 0-8.59-3.75-8.72-9.99h2.74c.09 4.58 2.11 6.52 3.71 6.92V7.3h2.58v3.95c1.58-.17 3.24-1.97 3.8-3.95h2.58a7.62 7.62 0 01-3.51 4.98 7.9 7.9 0 014.11 5.01h-2.84a4.94 4.94 0 00-4.14-3.57v3.57h-.31z",fill:"#fff"})]})}),Object(h.jsxs)("defs",{children:[Object(h.jsx)("clipPath",{id:"new_logo_vk_with_text__a",children:Object(h.jsx)("path",{fill:"#fff",transform:"translate(.001)",d:"M0 0h136v24H0z"})}),Object(h.jsx)("clipPath",{id:"new_logo_vk_with_text__b",children:Object(h.jsx)("path",{fill:"#fff",transform:"translate(0 -12)",d:"M0 0h136v48H0z"})})]})]})}),Object(h.jsxs)("div",{className:Mt.a.customHeader,children:[e.isAuth&&Object(h.jsx)("div",{children:Object(h.jsx)(kt.a,{direction:"row",spacing:2,children:Object(h.jsx)(Et,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(h.jsx)(Ut.a,{alt:"Remy Sharp",src:"https://social-network.samuraijs.com/activecontent/images/users/".concat(e.loginId,"/user.jpg?v=6")})})})}),Object(h.jsx)("div",{className:Mt.a.registration,children:e.isAuth?Object(h.jsxs)("div",{className:Mt.a.headerCustomItem,children:[e.login," ",Object(h.jsx)(He.a,{onClick:e.logout,variant:"outlined",children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(h.jsx)(O.b,{to:"/login",children:Object(h.jsx)(He.a,{variant:"contained",href:"#contained-buttons",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})}),Tt="auth/SET_USER_DATA",Dt="auth/GET_CAPTCHA_URL_SUCCESS",Ht={id:null,login:null,email:null,isAuth:!1,captcha:null},Lt=function(e,t,n,r){return{type:Tt,data:{id:e,login:t,email:n,isAuth:r}}},Vt=function(){return function(e){return me().then((function(t){if(0===t.data.resultCode){var n=t.data.data,r=n.id,c=n.login,a=n.email;e(Lt(r,c,a,!0))}}))}},Rt=function(){return function(e){ve().then((function(t){var n=t.data.url;e(function(e){return{type:Dt,data:{captcha:e}}}(n))}))}},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Tt:case Dt:return Object(y.a)(Object(y.a)({},e),t.data);default:return e}},Jt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(h.jsx)(zt,Object(y.a)({},this.props))}}]),n}(c.a.Component),Bt=Object(re.b)((function(e){return{isAuth:e.Auth.isAuth,login:e.Auth.login,loginId:e.Auth.id}}),{logout:function(){return function(e){ge().then((function(t){0===t.data.resultCode&&e(Lt(null,null,null,!1))}))}}})(Jt),Kt=n(148),qt=n.n(Kt),Xt=Object(D.a)({form:"login"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(h.jsx)("div",{children:Object(h.jsx)(T.a,{placeholder:"login",name:"email",component:X,validate:[W]})}),Object(h.jsx)("div",{children:Object(h.jsx)(T.a,{placeholder:"password",name:"password",component:X,type:"password",validate:[W]})}),Object(h.jsxs)("div",{children:[Object(h.jsx)(T.a,{type:"checkbox",name:"rememberMe",component:Q})," Remember me"]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{children:Object(h.jsx)(He.a,{className:qt.a.customBtn,variant:"contained",children:"\u0412\u043e\u0439\u0442\u0438"})})}),e.captcha&&Object(h.jsx)("img",{src:e.captcha}),e.captcha&&Object(h.jsx)(T.a,{name:"captcha",component:X}),e.error&&Object(h.jsx)("div",{children:e.error})]})})),Qt=Object(re.b)((function(e){return{isAuth:e.Auth.isAuth,captcha:e.Auth.captcha}}),{login:function(e,t,n,r){return function(c){xe(e,t,n,r).then((function(e){0===e.data.resultCode?c(Vt()):(10===e.data.resultCode&&c(Rt()),c(Object(tt.a)("login",{_error:e.data.messages})))}))}}})((function(e){return e.isAuth?Object(h.jsx)(N.a,{to:"/home"}):Object(h.jsxs)("div",{className:qt.a.login,children:[Object(h.jsx)(S.a,{children:Object(h.jsx)("title",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})}),Object(h.jsx)("h1",{children:"\u0412\u0445\u043e\u0434"}),Object(h.jsx)(Xt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captcha:e.captcha})]})})),Wt="INITIALIZED_SUCCESS",Yt={initialized:!1},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wt:return Object(y.a)(Object(y.a)({},e),{},{initialized:!0});default:return e}},$t=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(Bt,{}),Object(h.jsxs)("div",{className:"main",children:[Object(h.jsx)(I,{}),Object(h.jsxs)("div",{className:"components",children:[Object(h.jsx)(N.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)(N.a,{to:"/home"})}}),Object(h.jsx)(N.b,{path:"/home/:UserId?",render:function(){return Object(h.jsx)(St,{})}}),Object(h.jsx)(N.b,{path:"/message",render:function(){return Object(h.jsx)(se,{})}}),Object(h.jsx)(N.b,{path:"/feed",render:function(){return Object(h.jsx)(A,{})}}),Object(h.jsx)(N.b,{path:"/friends",render:function(){return Object(h.jsx)(Ze,{})}}),Object(h.jsx)(N.b,{path:"/login",render:function(){return Object(h.jsx)(Qt,{})}})]})]}),Object(h.jsx)(b,{})]}):Object(h.jsx)(Ge,{})}}]),n}(c.a.Component),en=Object(ie.d)(N.f,Object(re.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Vt());Promise.all([t]).then((function(){e({type:Wt})}))}}}))($t),tn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,410)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},nn=n(199),rn=n(179),cn=Object(ie.c)({ProfilePage:lt,DialogsPage:k,FriendsPage:ke,Auth:Gt,app:Zt,form:rn.a}),an=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.d,sn=Object(ie.e)(cn,an(Object(ie.a)(nn.a))),on=sn;window.store=sn,i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(O.a,{children:Object(h.jsx)(re.a,{store:on,children:Object(h.jsx)(en,{})})})}),document.getElementById("root")),tn()},41:function(e,t,n){e.exports={mainProfile:"HomeInfo_mainProfile__2GpA3",mainProfileItem:"HomeInfo_mainProfileItem__mbi5I",profileFullName:"HomeInfo_profileFullName__10fLJ",mainPhoto:"HomeInfo_mainPhoto__zq8lQ",contact:"HomeInfo_contact__1cMrv",statusInput:"HomeInfo_statusInput___RMXQ",statusPage:"HomeInfo_statusPage__1zJJH",infoInProfile:"HomeInfo_infoInProfile__1bSwl",error:"HomeInfo_error__Mcb8f"}},68:function(e,t,n){e.exports={menu:"Menu_menu__1RQYO",menuItem:"Menu_menuItem__3f-vJ",active:"Menu_active__13qyg"}},78:function(e,t,n){e.exports={header:"Header_header__3ElNF",registration:"Header_registration__lp8JP",customHeader:"Header_customHeader__S0xyg",headerCustomItem:"Header_headerCustomItem__3xgAJ",headerLink:"Header_headerLink__2DYA0"}},98:function(e,t,n){e.exports={post:"Home_post__2IhnQ",postTextArea:"Home_postTextArea__I85po"}},99:function(e,t,n){e.exports={formsControls:"FormsControls_formsControls__eMbTF",error:"FormsControls_error__13SCH"}}},[[364,1,2]]]);
//# sourceMappingURL=main.0a04911b.chunk.js.map